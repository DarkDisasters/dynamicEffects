<html>
	<head>

        <script src = "../lib/jquery.js"></script>
		<script src = "../lib/d3.js"></script>
        <script src = "../lib/paper-full.js "></script>
        <script src = "../src/js/marchingants.js"></script>
	</head>
    <style>
        svg{
        	position:absolute;
        	left:0px;
        	top:0px;
        	z-index: -1;
        }
        canvas{
        	position:absolute;
        	left:0px;
        	top:0px;
        }
    </style>
	<body>
       	<canvas id = "mycanvas" width="800" height="600" display=" inline"></canvas>
		<div>
			<svg id="coversvg" width="800" height="600" >
				<rect id="rect1" x="100" y="100" style="fill: #AF503E;" width="80" height="200"></rect>

                <rect id = "rect2" x = "300" y = "100" style= "fill:#AF503E;" width="80" height = "200">
			</svg>
		</div>
	</body>
	<script type="text/javascript">

		var canvas = document.getElementById('mycanvas');

        canvas.width = 800
        canvas.height = 600

        //1. set up the paperjs environment
        paper.setup(canvas);
        paper.install(window);
        paper.view.draw();


		//2. set MA info
        var deltaX = 0
		var rectBox = document.getElementById('rect1').getBoundingClientRect();
		var visual_proxy = [
			[rectBox.x + deltaX, rectBox.y + rectBox.height],
            [rectBox.x + rectBox.width * 0.5 + deltaX, rectBox.y + rectBox.height - 13],
			[rectBox.x + rectBox.width + deltaX, rectBox.y + rectBox.height],
			[rectBox.x + rectBox.width + deltaX, rectBox.y + rectBox.height + 10],
            [rectBox.x + rectBox.width * 0.5 + deltaX, rectBox.y + rectBox.height-3],
			[rectBox.x + deltaX, rectBox.y + rectBox.height + 10],
			[rectBox.x + deltaX, rectBox.y + rectBox.height],
		]
		var path = [
			[rectBox.x + rectBox.width * 0.5 , rectBox.y + rectBox.height],
            // [600,400]
			[rectBox.x + rectBox.width * 0.5 , rectBox.y],


		]

		var boundary = [
			[rectBox.x, rectBox.y], 
			[rectBox.x + rectBox.width, rectBox.y], 
			[rectBox.x + rectBox.width, rectBox.y + rectBox.height],
			[rectBox.x, rectBox.y + rectBox.height],
			[rectBox.x, rectBox.y], 
		]
		var speed = 23
		var space = 20
		var color = '#F9DEB3'
		
        // var deltaX = 0
        var rectBox2 = document.getElementById('rect2').getBoundingClientRect();
        var visual_proxy2 = [
            [rectBox2.x + deltaX, rectBox2.y + rectBox2.height],
            [rectBox2.x + rectBox2.width * 0.5 + deltaX, rectBox2.y + rectBox2.height - 13],
            [rectBox2.x + rectBox2.width + deltaX, rectBox2.y + rectBox2.height],
            [rectBox2.x + rectBox2.width + deltaX, rectBox2.y + rectBox2.height + 10],
            [rectBox2.x + rectBox2.width * 0.5 + deltaX, rectBox2.y + rectBox2.height-3],
            [rectBox2.x + deltaX, rectBox2.y + rectBox2.height + 10],
            [rectBox2.x + deltaX, rectBox2.y + rectBox2.height],
        ]
        var path2 = [
            [rectBox2.x + rectBox2.width * 0.5 , rectBox2.y + rectBox2.height],
            // [600,400]
            [rectBox2.x + rectBox2.width * 0.5 , rectBox2.y],


        ]

        var boundary2 = [
            [rectBox2.x, rectBox2.y], 
            [rectBox2.x + rectBox2.width, rectBox2.y], 
            [rectBox2.x + rectBox2.width, rectBox2.y + rectBox2.height],
            [rectBox2.x, rectBox2.y + rectBox2.height],
            [rectBox2.x, rectBox2.y], 
        ]

        //3. start the MA setting
        MA_Start()
		marchingAnt(visual_proxy, path, boundary, speed, space, 1, color, true)
        marchingAnt(visual_proxy2, path2, boundary2, speed, space, 1, "#000000", true)
        //4. end the MA setting, and begin to draw MA
        MA_End();
	</script>
</html>