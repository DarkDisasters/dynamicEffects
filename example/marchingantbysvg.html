<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <script src = "../lib/jquery.js"></script>
    <script src = "../lib/d3.js"></script>
    <script src = "../lib/paper-full.js "></script>
    <script src = "../src/js/marchingants.js"></script>
</head>
<body>

    <canvas id = "mycanvas" width = "800" height="800">
    </canvas>

    <!-- <input type="button" value="生成path" onclick="getPath()">
    <input type="button" value="生成效果" onclick="addAnttoSvg()"> -->
    <script >
        var canvas = document.getElementsByTagName("canvas")[0];
        paper.setup(canvas);
        paper.install(window);
        

        function addAnttoSvg(){
          
            // paper.project.importSVG("../svg/111.svg", function(item){
            paper.project.importSVG('../svg/rightarrow.svg', function(item){
            // paper.project.importSVG('../svg/waterdrop.svg', function(item){
                console.log("item",item)

                // antModal = item._children[1]._children[0]
                antModal = item._children[1]
                antModal.visible = true;

                var path = [
                    [117.01388835906982, 438.0138883590698],
                    [123.01388835906982, 427.0138883590698],
                    [127.01388835906982, 417.0138883590698],
                    [132.01388835906982, 407.0138883590698],
                    [139.01388835906982, 394.0138883590698],
                    [147.01388835906982, 385.0138883590698],
                    [154.01388835906982, 374.0138883590698],
                    [160.01388835906982, 366.0138883590698],
                    [166.01388835906982, 358.0138883590698],
                    [173.01388835906982, 349.0138883590698],
                    [184.01388835906982, 342.0138883590698],
                    [193.01388835906982, 337.0138883590698],
                    [203.01388835906982, 337.0138883590698],
                    [213.01388835906982, 337.0138883590698],
                    [223.01388835906982, 338.0138883590698],
                    [234.01388835906982, 343.0138883590698],
                    [244.01388835906982, 346.0138883590698],
                    [254.01388835906982, 352.0138883590698],
                    [263.0138883590698, 359.0138883590698],
                    [272.0138883590698, 364.0138883590698],
                    [282.0138883590698, 362.0138883590698],
                    [290.0138883590698, 354.0138883590698],
                    [299.0138883590698, 345.0138883590698],
                    [312.0138883590698, 338.0138883590698],
                    [322.0138883590698, 334.0138883590698],
                    [334.0138883590698, 327.0138883590698],
                    [344.0138883590698, 324.0138883590698],
                    [354.0138883590698, 320.0138883590698],
                    [364.0138883590698, 319.0138883590698],
                    [374.0138883590698, 318.0138883590698],
                    [384.0138883590698, 318.0138883590698],
                    [394.0138883590698, 319.0138883590698],
                    [404.0138883590698, 325.0138883590698],
                    [414.0138883590698, 329.0138883590698],
                    [422.0138883590698, 336.0138883590698],
                    [434.0138883590698, 346.0138883590698],
                    [440.0138883590698, 354.0138883590698],
                    [447.0138883590698, 362.0138883590698],
                    [455.0138883590698, 370.0138883590698],
                    [462.0138883590698, 378.0138883590698],
                    [468.0138883590698, 386.0138883590698]
                ]
                // pathPoints = path
                // pathp = path
                console.log("children", item._children[1])
                // console.log("children", item._children[1]._children[0])
                console.log("segments0poingx", antModal.segments[0].point)
                console.log("antmodalinteriorPoint", antModal.interiorPoint)
                console.log("antmodalpathdata", antModal.pathData)
                console.log("childrenlength", item._children.length)
                console.log('pathpoint', pathPoints)

                var insidePoint = antModal.interiorPoint
                // var tx = Math.abs(insidePoint.x - pathPoints[0]['x'])
                // var ty = Math.abs(insidePoint.y - pathPoints[0]['y'])
                var tx = Math.abs(insidePoint.x - path[0][0])
                var ty = Math.abs(insidePoint.y - path[0][1])

                
                
                // for(var i = 0; i < pathPoints.length; i++){
                //     var pointoridinate = []
                //     pointoridinate.push(pathPoints[i]['x'])
                //     pointoridinate.push(pathPoints[i]['y'])
                //     pathp.push(pointoridinate)
                // }

                var ppppath = new paper.Path(antModal.pathData)
                ppppath.fillColor = 'red'
                ppppath.visible = false;
                // ppppath._position = new paper.Point(500, 500)
                ppppath.translate(tx,ty)
                console.log("ppppaht", ppppath)


                
                // for(var i = 0; i < antModal.segments.length; i++){
                //     var antModalx = antModal.segments[i].point._x
                //     var antModaly = antModal.segments[i].point._y
                //     antModal.segments[i].point._x = Math.abs(antModalx - tx)
                //     antModal.segments[i].point._y = Math.abs(antModalx - ty)
                // }
                // antModal.translate(100, 400)
                // antModal._position = new paper.Point(100, 300)

                // antModal.translate(tx, ty)
                // console.log("pathp", pathp)
                console.log("antmodallll", antModal)
                
                var groupId = "1"
                // pathp = [[3,33],[360,33], [400,100]]
                // var boundary = [[0,3],[350,3],[350,77],[0,77]]
                // var boundary = [[0,0], [800,0], [800,800], [0,800]]
                boundary = [[117,300],[470,300],[470,450],[117,450]]
                var speed = 25
                var space = 40
                var color = "#F6B979"
                // var color = "yellow"
                MA_Start()
                // for(var i = 1; i < 3; i++){
                //     var antModal2 = item._children[i]
                //     console.log('aaaaa')
                //     marchingAnt2(antModal2, path, boundary, speed, space, groupId, color)
                // }
                // marchingAnt2(antModal, pathp, boundary, speed, space, color)
                marchingAnt2(ppppath, path, boundary, speed, space, color)
                MA_End()
            })
        }

        addAnttoSvg()
    </script>
   
</body>
</html>